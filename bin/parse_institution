#!/usr/bin/env ruby
# -*- coding: utf-8; mode: enh-ruby; -*-

require_relative '../config/environment.rb'

ins = InstitutionParser.instance

symbols = %w(
  nasdaq/arry nasdaq/fldm nyse/beke nasdaq/lizi nasdaq/momo
  nyse/stm  otcmkts/dlaky otcmkts/rycey nasdaq/niu nyse/lu
  nyse/umc nyse/nclh nasdaq/cron nyse/pltr nasdaq/ttcf
  nasdaq/kopn nasdaq/afrm nasdaq/cree nasdaq/dada nasdaq/fami
  nyse/dao nasdaq/ino nasdaq/tour nyse/tme nyse/ai
  nasdaq/eh otcmkts/wcagy nyse/fubo nyse/yala nyse/cnk nyse/jks
  nyse/ge
)
# symbols = %w(nasdaq/arry)
ins.symbols = symbols

file = File.open('/tmp/parse_insititution_done',  'a')
file.puts '*'*100
file.puts "Start" + Time.now.strftime('%Y-%m-%d %H:%M:%S %A')

ins.parse

file = File.open('/tmp/parse_insititution_done',  'a')
file.puts "End" + Time.now.strftime('%Y-%m-%d %H:%M:%S %A')
file.close
